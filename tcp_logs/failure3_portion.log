|---> sosend_generic(), is top: 1
|---> sosend_generic(), sblock
<----> sblock(), sb_mb empty
|---> sosend_generic(), restart
|---> sosend_generic(), release
|---> sosend_generic(), out
|---> sosend_generic(), out_unlocked
socket(domain=2, type=1, protocol=0)
055, ---> Created socket_file
setsockopt(fd=3, level=1, optname=2, (*(int)optval)=1, optlen=4)
bind(fd=3, ...)
listen(fd=3, backlog=10)
accept(fd=3, ...)
055| ---> kern_accept START _______________
random: device unblocked.
socket(domain=2, type=1, protocol=0)
054, ---> Created socket_file
connect(fd=4, ...)
054|-----> tcp_output: [0xffffa000025b0800] START _______________
054|tcpcb at 0xffffa000025b0800
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 2 (TCPS_SYN_SENT)
  t_flags: 0x2a0 (TF_REQ_SCALE, TF_REQ_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x0cd6ddea   snd_max: 0x0cd6ddea   snd_nxt: x00cd6ddea
  snd_up: 0x0cd6ddea   snd_wl1: 0x00000000   snd_wl2: 0x00000000
  iss: 0x0cd6ddea   irs: 0x00000000   rcv_nxt: 0x00000000
  rcv_adv: 0x00000000   rcv_wnd: 0   rcv_up: 0x00000000
  snd_wnd: 0   snd_cwnd: 1073725440
  snd_ssthresh: 1073725440   snd_recover: 0x0cd6ddea
  t_maxopd: 536   t_rcvtime: 1156   t_startime: 0
  t_rttime: 0   t_rtsq: 0x00000000
  t_rxtcur: 3000   t_maxseg: 536   t_srtt: 0
  t_rttvar: 12000   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 0
  t_rttupdated: 0   max_sndwnd: 0   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 0   rcv_scale: 0   request_r_scale: 6
  ts_recent: 0   ts_recent_age: 0
  ts_offset: 0   last_ack_sent: 0x00000000   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 0   rfbuf_ts: 0   rfbuf_cnt: 0
054|-----> tcp_output: [0xffffa000025b0800] off 1 = 0, tp->snd_una = 215408106, tp->snd_nxt = 215408106
054|-----> tcp_output: [0xffffa000025b0800] Before after_sack_rexmit with len = 0
054|-----> tcp_output: [0xffffa000025b0800] 3 len = 0, sb_cc = 0, sendwin = 0, off = 0
054|-----> tcp_output: [0xffffa000025b0800] After KASSERT with len = 0
054|-----> tcp_output: [0xffffa000025b0800] send
054|-----> tcp_output: [0xffffa000025b0800] sending NON-data segment
041|-----> tcp_input: [0xffffa000025b0400] ACCEPTing connection
041|-----> tcp_do_segment: [0xffffa000025b0800] START _______________
041|tcpcb at 0xffffa000025b0800
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 2 (TCPS_SYN_SENT)
  t_flags: 0x2a0 (TF_REQ_SCALE, TF_REQ_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x0cd6ddea   snd_max: 0x0cd6ddeb   snd_nxt: x00cd6ddeb
  snd_up: 0x0cd6ddea   snd_wl1: 0x00000000   snd_wl2: 0x00000000
  iss: 0x0cd6ddea   irs: 0x00000000   rcv_nxt: 0x00000000
  rcv_adv: 0x0000ffff   rcv_wnd: 0   rcv_up: 0x00000000
  snd_wnd: 0   snd_cwnd: 1073725440
  snd_ssthresh: 1073725440   snd_recover: 0x0cd6ddea
  t_maxopd: 536   t_rcvtime: 1156   t_startime: 0
  t_rttime: 1198   t_rtsq: 0x0cd6ddea
  t_rxtcur: 3000   t_maxseg: 536   t_srtt: 0
  t_rttvar: 12000   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 0
  t_rttupdated: 0   max_sndwnd: 0   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 0   rcv_scale: 0   request_r_scale: 6
  ts_recent: 0   ts_recent_age: 0
  ts_offset: 0   last_ack_sent: 0x00000000   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 0   rfbuf_ts: 1196   rfbuf_cnt: 0
041|-----> tcp_output: [0xffffa000025b0800] START _______________
041|tcpcb at 0xffffa000025b0800
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 4 (TCPS_ESTABLISHED)
  t_flags: 0x3e1 (TF_ACKNOW, TF_REQ_SCALE, TF_RECVD_SCALE, TF_REQ_TSTMP, TF_RCVD_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x0cd6ddeb   snd_max: 0x0cd6ddeb   snd_nxt: x00cd6ddeb
  snd_up: 0x0cd6ddea   snd_wl1: 0x761c5e76   snd_wl2: 0x0cd6ddeb
  iss: 0x0cd6ddea   irs: 0x761c5e75   rcv_nxt: 0x761c5e76
  rcv_adv: 0x761d7676   rcv_wnd: 71680   rcv_up: 0x761c5e76
  snd_wnd: 65535   snd_cwnd: 28672
  snd_ssthresh: 1073725440   snd_recover: 0x0cd6ddea
  t_maxopd: 16344   t_rcvtime: 1219   t_startime: 1219
  t_rttime: 0   t_rtsq: 0x0cd6ddea
  t_rxtcur: 275   t_maxseg: 14336   t_srtt: 800
  t_rttvar: 200   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 1000
  t_rttupdated: 1   max_sndwnd: 65535   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 6   rcv_scale: 6   request_r_scale: 6
  ts_recent: 1890644782   ts_recent_age: 1219
  ts_offset: 0   last_ack_sent: 0x00000000   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 24   rfbuf_ts: 0   rfbuf_cnt: 0
041|-----> tcp_output: [0xffffa000025b0800] off 1 = 0, tp->snd_una = 215408107, tp->snd_nxt = 215408107
041|-----> tcp_output: [0xffffa000025b0800] Before after_sack_rexmit with len = 0
041|-----> tcp_output: [0xffffa000025b0800] 3 len = 0, sb_cc = 0, sendwin = 28672, off = 0
041|-----> tcp_output: [0xffffa000025b0800] After KASSERT with len = 0
041|-----> tcp_output: [0xffffa000025b0800] send
041|-----> tcp_output: [0xffffa000025b0800] sending NON-data segment
<---| soreceive_generic(), mp0: 0, bytes to copy: 4096
<---| soreceive_generic(), sblock
<----> sblock(), sb_mb empty
<---| soreceive_generic(), restart -> NO m buffer
041|-----> tcp_input: [0xffffa000025b0400] ACCEPTing connection
041|-----> tcp_input: [0xffffa000025b0400] syncache_expand
041|-----> syncache_socket: START _______________
041|-----> syncache_socket: SET TCPS_SYN_RECEIVED
041|tcpcb at 0xffffa000025b0c00
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 3 (TCPS_SYN_RECEIVED)
  t_flags: 0x3e0 (TF_REQ_SCALE, TF_RECVD_SCALE, TF_REQ_TSTMP, TF_RCVD_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x761c5e75   snd_max: 0x761c5e76   snd_nxt: x0761c5e76
  snd_up: 0x761c5e75   snd_wl1: 0x0cd6ddea   snd_wl2: 0x00000000
  iss: 0x761c5e75   irs: 0x0cd6ddea   rcv_nxt: 0x0cd6ddeb
  rcv_adv: 0x0cd7ddea   rcv_wnd: 65535   rcv_up: 0x0cd6ddeb
  snd_wnd: 0   snd_cwnd: 1073725440
  snd_ssthresh: 1073725440   snd_recover: 0x761c5e75
  t_maxopd: 16344   t_rcvtime: 1259   t_startime: 0
  t_rttime: 0   t_rtsq: 0x00000000
  t_rxtcur: 3000   t_maxseg: 14336   t_srtt: 0
  t_rttvar: 12000   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 0
  t_rttupdated: 0   max_sndwnd: 0   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 6   rcv_scale: 0   request_r_scale: 6
  ts_recent: 1196   ts_recent_age: 1259
  ts_offset: 1890643581   last_ack_sent: 0x0cd6ddeb   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 0   rfbuf_ts: 0   rfbuf_cnt: 0
055| ---> kern_accept making new socket file
055, ---> Created socket_file
|---> sosend_generic(), is top: 0
|---> sosend_generic(), sblock
<----> sblock(), sb_mb empty
|---> sosend_generic(), restart
055|--->  m_uiotombuf copying 60 bytes
055|---> tcp_usr_send: mbuf length=60
055|-----> tcp_output: [0xffffa000025b0c00] START _______________
041|-----> tcp_input: [0xffffa000025b0400] socket should be in state SYN_RECEIVED
055|tcpcb at 0xffffa000025b0c00
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 3 (TCPS_SYN_RECEIVED)
  t_flags: 0x3e0 (TF_REQ_SCALE, TF_RECVD_SCALE, TF_REQ_TSTMP, TF_RCVD_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x761c5e75   snd_max: 0x761c5e76   snd_nxt: x0761c5e76
  snd_up: 0x761c5e75   snd_wl1: 0x0cd6ddea   snd_wl2: 0x00000000
  iss: 0x761c5e75   irs: 0x0cd6ddea   rcv_nxt: 0x0cd6ddeb
  rcv_adv: 0x0cd7ddea   rcv_wnd: 65535   rcv_up: 0x0cd6ddeb
  snd_wnd: 0   snd_cwnd: 1073725440
  snd_ssthresh: 1073725440   snd_recover: 0x761c5e75
  t_maxopd: 16344   t_rcvtime: 1259   t_startime: 0
  t_rttime: 0   t_rtsq: 0x00000000
  t_rxtcur: 3000   t_maxseg: 14336   t_srtt: 0
  t_rttvar: 12000   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 0
  t_rttupdated: 0   max_sndwnd: 0   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 6   rcv_scale: 0   request_r_scale: 6
  ts_recent: 1196   ts_recent_age: 1259
  ts_offset: 1890643581   last_ack_sent: 0x0cd6ddeb   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 0   rfbuf_ts: 0   rfbuf_cnt: 0
055|-----> tcp_output: [0xffffa000025b0c00] off 1 = 1, tp->snd_una = 1981570677, tp->snd_nxt = 1981570678
055|-----> tcp_output: [0xffffa000025b0c00] Before after_sack_rexmit with len = 0
055|-----> tcp_output: [0xffffa000025b0c00] 3 len = -1, sb_cc = 60, sendwin = 0, off = 1
055|-----> tcp_output: [0xffffa000025b0c00] After KASSERT with len = 0
055|-----> tcp_output: [0xffffa000025b0c00] send
055|-----> tcp_output: [0xffffa000025b0c00] sending NON-data segment
041|-----> tcp_input: [0xffffa000025b0c00] BEFORE tcp_do_segment
041|-----> tcp_do_segment: [0xffffa000025b0c00] START _______________
041|tcpcb at 0xffffa000025b0c00
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 3 (TCPS_SYN_RECEIVED)
  t_flags: 0x3e0 (TF_REQ_SCALE, TF_RECVD_SCALE, TF_REQ_TSTMP, TF_RCVD_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x761c5e75   snd_max: 0x761c5e76   snd_nxt: x0761c5e76
  snd_up: 0x761c5e75   snd_wl1: 0x0cd6ddea   snd_wl2: 0x00000000
  iss: 0x761c5e75   irs: 0x0cd6ddea   rcv_nxt: 0x0cd6ddeb
  rcv_adv: 0x0cd7ddea   rcv_wnd: 65535   rcv_up: 0x0cd6ddeb
  snd_wnd: 0   snd_cwnd: 1073725440
  snd_ssthresh: 1073725440   snd_recover: 0x761c5e75
  t_maxopd: 16344   t_rcvtime: 1259   t_startime: 0
  t_rttime: 0   t_rtsq: 0x00000000
  t_rxtcur: 3000   t_maxseg: 14336   t_srtt: 0
  t_rttvar: 12000   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 0
  t_rttupdated: 0   max_sndwnd: 0   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 6   rcv_scale: 0   request_r_scale: 6
  ts_recent: 1196   ts_recent_age: 1259
  ts_offset: 1890643581   last_ack_sent: 0x0cd6ddeb   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 0   rfbuf_ts: 1332   rfbuf_cnt: 0
|---> sosend_generic(), release
|---> sosend_generic(), out
|---> sosend_generic(), out_unlocked
041|-----> tcp_output: [0xffffa000025b0c00] START _______________
041|tcpcb at 0xffffa000025b0c00
  t_segq first: 0   t_segqlen: 0   t_dupacks: 0
  t_state: 4 (TCPS_ESTABLISHED)
  t_flags: 0x3e0 (TF_REQ_SCALE, TF_RECVD_SCALE, TF_REQ_TSTMP, TF_RCVD_TSTMP, TF_SACK_PERMIT)
  snd_una: 0x761c5e76   snd_max: 0x761c5e76   snd_nxt: x0761c5e76
  snd_up: 0x761c5e75   snd_wl1: 0x0cd6ddeb   snd_wl2: 0x761c5e76
  iss: 0x761c5e75   irs: 0x0cd6ddea   rcv_nxt: 0x0cd6ddeb
  rcv_adv: 0x0cd7ddea   rcv_wnd: 71680   rcv_up: 0x0cd6ddeb
  snd_wnd: 71680   snd_cwnd: 28673
  snd_ssthresh: 1073725440   snd_recover: 0x761c5e76
  t_maxopd: 16344   t_rcvtime: 1358   t_startime: 1359
  t_rttime: 0   t_rtsq: 0x00000000
  t_rxtcur: 677   t_maxseg: 14336   t_srtt: 5088
  t_rttvar: 1272   t_rxtshift: 0   t_rttmin: 30   t_rttbest: 6360
  t_rttupdated: 1   max_sndwnd: 71680   t_softerror: 0
  t_oobflags: 0x0 ()   t_iobc: 0x00
  snd_scale: 6   rcv_scale: 6   request_r_scale: 6
  ts_recent: 1255   ts_recent_age: 1358
  ts_offset: 1890643581   last_ack_sent: 0x0cd6ddeb   snd_cwnd_prev: 0
  snd_ssthresh_prev: 0   snd_recover_prev: 0x00000000   t_badrxtwin: 0
  snd_numholes: 0  snd_holes first: 0
  snd_fack: 0x00000000   rcv_numsacks: 0   sack_newdata: 0x00000000
  t_rttlow: 158   rfbuf_ts: 0   rfbuf_cnt: 0
041|-----> tcp_output: [0xffffa000025b0c00] off 1 = 0, tp->snd_una = 1981570678, tp->snd_nxt = 1981570678
041|-----> tcp_output: [0xffffa000025b0c00] Before after_sack_rexmit with len = 0
041|-----> tcp_output: [0xffffa000025b0c00] 3 len = 59, sb_cc = 59, sendwin = 28673, off = 0
041|-----> tcp_output: [0xffffa000025b0c00] After KASSERT with len = 59
041|-----> tcp_output: [0xffffa000025b0c00] send
041|-----> tcp_output: [0xffffa000025b0c00] sending DATA segment of size = 59
